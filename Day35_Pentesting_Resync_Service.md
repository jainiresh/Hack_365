# TOPIC
PENTESTING RSYNC SERVICE

# OVERVIEW
## WHAT IS A RSYNC ?
RSYNC is a command line tool, used to transfer files between two servers or from a local computer to a remote system.

## INTRODUCTION
- They are Linux System tools
- The sync is determined by based on the timestamps and the file sizes
- They are famous for its delta share algorithms, which helps to share or transfer data that are different, and the updated
ones and not the same files already present in the remote server or system.
- The usual port for RSYNC service is 873
- Due, to the often weak configurations, it becomes an intersting vector for attackers and the red team.

# REMOTELY SHARING DATA
## REQUIREMENTS
- File share access can be defined in /etc/Rsyncd.conf file, to provide anonymous or authenticated access to the users.
- File permissions can also be defined in /etc/Rsyncd.conf by defining the user that the Rsync services will run as.
	If Rsync is configured to run as root, then anyone allowed to connect can access the shared files, with root privileged users.

# ENUMERATION AND ISSUES
1. Finding a Rsync Server 
> Run a port scan using nmap, you can use below command: 
> nmap -sS -sV -p873 <ip> 

## Enumeration Steps 
(change 127.0.0.1 to your target IP)

## List Directory
>  rsync 127.0.0.1:: 

## List Sub Directory
> rsync 127.0.0.1::files

## List Directories & Files Recursively
> rsync -r 127.0.0.1::files/tmp/

##  Downloading Files & Folders

> rsync 127.0.0.1::files/tmp/test.txt .
> rsync -r 127.0.0.1::files/tmp

## Uploading Files & Folders

> rsync ./file.txt 127.0.0.1::files/test
> rsync -r ./folder 127.0.0.1:files/test

##  More Interesting Enumeration Techniques: 
> https://blog.netspi.com/linux-hacking-case-studies-part-1-rsync/
> https://book.hacktricks.xyz/pentesting/873-pentesting-rsync#post

