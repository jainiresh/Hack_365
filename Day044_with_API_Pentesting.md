# TOPIC
API pentesting Tips

# OVERVIEW
API's are the most integral part of today's web application and IOT devices and everything that is connected to the
Internet.
These are used for the communications and data transfer between two different devices.

# PENTESTING TIPS
- Test for multiple login paths, never assume it's scoped for one.
The modern apps have multiple login paths like
```
/api/mobile/login
/api/v3/login
/api/magic_link, etc.,.
```

- IDOR for API -> BOLA , understand how to find it and it's very sure to get a bug on these.

- ! IMPORTANT
If the web application is running on Ruby on Rails, and if you find a HTTP parameter containing a URL, then it has>
good chance that the developers could have used "Kernel#open", == Game OVer
Just send a pipe as the first characeter, followed by a shell command (Command injection by design)


- Find a GET parameter to get the details of something, and use the PUT or POST parameter to perform mass assignme>

- change the content Type to application/xml and a simple XML in the request body to check if the application acce>

- Try to find BFLA (Broken Function Level AuthZ), if you find an endpoint like GET /api/v1/users/<id> try to chang>
DELETE/POST to delete or create users respectively.

- If the API uses AUTHORIZATION token, It's impossible to find a CSRF attack

- IF the id's or non numeric, always try to send numeric ones too !

- Static API is having a good chance to view static data of other users, due to poorly implemented AuthN technique>

- Developer tend to forget authorization and security measures on subdomains like stagin. and test. , try to explo>

- If you find an EXPORT to PDF options, try to inject HTML there, and cause EXPORT injection

- 403 BYPASS tricks
wrap ID with an array => {"id":111} -> {"id":[111]}
JSON wrap => {"id":111} -> {"id":{"id":111}}
SEND ID twice => URL?id=<LEGIT>%id=<VICTIM>
SEND wildcard => {"user_id"="*"

- Try out DOS attacks on parameters like limit/page (eg: /api/news?limit=100),
Try giving a very large value like limit=99999999999 and see what happens


# REFERENCES

All of this information is taken from twitter of Inon Shkedy
https://twitter.com/inonshkedy
